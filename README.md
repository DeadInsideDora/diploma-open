# Веб-приложение в рамках дипломной работы для формирования продуктовой корзины с учетом маршрутов между магазинами

Репозиторий содержит исходный код бакалаврской выпускной квалификационной работы  

## Цель
Сокращение временных и денежных затрат пользователей при совершении покупок, учитывая:
- список необходимых товаров
- цены в разных магазинах
- наличие товаров в разных продуктовых сетях
- географическое расположение магазинов
- растояние/время маршрута

---

## Основные возможности

- **Регистрация и авторизация пользователей**
  - создание учетной записи и вход в систему
  - хранение пользовательских настроек
  - выбор местоположения пользователя и радиуса поиска

- **Работа с продуктами и магазинами**
  - просмотр каталога товаров
  - привязка товаров к конкретным продуктовым сетям
  - учет цен и наличия

- **Формирование продуктовой корзины**
  - добавление/удаление товаров в корзину
  - изменение количества позиций
  - расчет ориентировочной стоимости корзины с учетом карт лояльности

- **Маршрутизация и оптимизация**
  - выбор магазинов, в которых можно купить все товары из корзины
  - учет геопозиции пользователя и адресов магазинов
  - построение маршрутов между магазинами
  - применение алгоритмов оптимизации для поиска выгодного варианта

---

## Архитектура

Проект реализован в виде набора сервисов, разворачиваемых через Docker:

- `site` — фронтенд
- `user-service` — сервис работы с пользователями
- `products` — сервис каталога товаров и магазинов
- `maps` — сервис для работы с геоданными
- `optimizer` — сервис оптимизации корзины и маршрутов
- `prometheus` — сбор метрик
- `grafana` — визуализация метрик
- `checkout` - расчет выгоды на входных данных

Обмен данными между фронтендом и backend-сервисами осуществляется по HTTP/REST API.  

---

## Используемые технологии

- **Frontend**
  - TypeScript

- **Backend**
  - Go
  - Python

- **Данные**
  - Реляционная СУБД
  - Redis

- **Инфраструктура**
  - Docker, Docker Compose
  - Prometheus, Grafana

## Развертывание
```sh
git clone https://github.com/DeadInsideDora/diploma-open.git
cd diploma-open
docker compose up --build
```

Перед запуском docker'а нужно создать `.env` файл со следующими переменными:
- `API_KEY_2GIS` - зарегистрироваться [здесь](https://platform.2gis.ru/ru) и создать ключ
- `GF_SECURITY_ADMIN_PASSWORD` - пароль от графаны
- `USER_DB`, `USER_LOGIN`, `USER_PASS` - данные для postgresql

